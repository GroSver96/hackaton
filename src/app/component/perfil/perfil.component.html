<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil de Usuario</title>
  <link rel="stylesheet" href="perfil-usuario.component.css">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>

  <!-- Firebase Configuración -->
  <script>
    // Tu configuración de Firebase
    const firebaseConfig = {
      apiKey: "TU_API_KEY",
      authDomain: "TU_AUTH_DOMAIN",
      projectId: "TU_PROJECT_ID",
      storageBucket: "TU_STORAGE_BUCKET",
      messagingSenderId: "TU_MESSAGING_SENDER_ID",
      appId: "TU_APP_ID"
    };

    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>
</head>
<body>

  <header>
    <nav class="navbar">
      <h1>Red de Hospitales</h1>
      <ul class="menu">
        <button onclick="volverInicio()">Inicio</button>
        <button onclick="editarPerfil()">Editar Perfil</button>
      </ul>
    </nav>
  </header>

  <div class="profile-container">
    <h2>Perfil de Usuario</h2>
    <div class="profile-info">
      <img src="https://via.placeholder.com/150" alt="Foto de perfil" class="profile-image">

      <div class="info">
        <p><strong>Nombre:</strong> <span id="firstName">Cargando...</span> <span id="lastName">Cargando...</span></p>
        <p><strong>Email:</strong> <span id="email">Cargando...</span></p>
        <p><strong>Teléfono:</strong> <span id="phone">Cargando...</span></p>
        <p><strong>Dirección:</strong> <span id="address">Cargando...</span></p>
        <p><strong>Tipo de Sangre:</strong> <span id="bloodtype">Cargando...</span></p>
        <p><strong>Rol:</strong> <span id="role">Cargando...</span></p>
      </div>
    </div>
    
    <button class="edit-button" onclick="editarPerfil()">Editar Información</button>
  </div>

  <script>
    // Función para redirigir al inicio
    function volverInicio() {
      window.location.href = "index.html"; // Cambia esto a la URL de tu página de inicio
    }

    // Función para editar el perfil
    function editarPerfil() {
      alert("Funcionalidad de edición no implementada."); // Aquí puedes redirigir o habilitar la edición
    }

    // Obtener datos del usuario desde Firestore
    const userId = "ID_DEL_USUARIO"; // Coloca aquí el ID del usuario

    db.collection("usuarios").doc(userId).get().then((doc) => {
      if (doc.exists) {
        // Actualiza los elementos con los datos del usuario
        document.getElementById("firstName").textContent = doc.data().firstName;
        document.getElementById("lastName").textContent = doc.data().lastName;
        document.getElementById("email").textContent = doc.data().email;
        document.getElementById("phone").textContent = doc.data().phone;
        document.getElementById("address").textContent = doc.data().address;
        document.getElementById("bloodtype").textContent = doc.data().bloodtype;
        document.getElementById("role").textContent = doc.data().role;
      } else {
        console.log("No se encontró el documento");
      }
    }).catch((error) => {
      console.log("Error al obtener el documento:", error);
    });
  </script>
</body>
</html>
